#!/usr/bin/env ruby

require_relative '../config/environment'

#Greet the user with a message
def starting_game(input)
    if input == "y"
      puts "How many players will there be?: (0/1/2)"
      number_of_players = gets.strip.to_i
        if number_of_players == 0
          player_1 = Players::Computer.new("X")
          player_2 = Players::Computer.new("O")
          puts "Great! Starting your new game..."
          @game = Game.new(player_1, player_2).play
          @game
        elsif number_of_players == 1
          player_1 = Players::Human.new("X")
          player_2 = Players::Computer.new("O")
          puts "Great! Starting your new game..."
          @game = Game.new(player_1, player_2).play
          @game
        elsif number_of_players == 2
          puts "Great! Starting your new game..."
          player_1 = Players::Human.new("X")
          player_2 = Players::Human.new("O")
          @game = Game.new(player_1, player_2).play
          @game
        end
    else puts "Ok nice to meet you, Goodbye!"
    end
  end

def start
  puts "Welcome to Tic Tac Toe! Where are you from? (Spain, France, The Old West)"
  regional_fun =  gets.strip.downcase
  if regional_fun == "spain"
    puts "Hola! Welcome to Tic Tac Toe! Would you like to play? (Y/n)"
    input =  gets.strip.downcase
    starting_game(input)
  elsif regional_fun == "france"
    puts "Bonjour! Welcome to Tic Tac Toe! Would you like to play? (Y/n)"
    input =  gets.strip.downcase
    starting_game(input)
  else regional_fun == "the old west"
    puts "Howdy partner! Welcome to Tic Tac Toe! Would you like to play? (Y/n)"
    input =  gets.strip.downcase
    starting_game(input)
  end

end

start

  puts "Would you like to play again? (Y/n)"
  play_again = gets.strip.downcase
  if play_again == "y" || play_again == "yes"
    start
  else puts "Fantastic, have a great day!"
  end

def dbl_space
  puts ""
  puts ""
end